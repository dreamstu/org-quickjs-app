/*
 Copyright 2015, Quickjs v1.0 dev
 MIT Licensed
 build time 2015-01-20 20:45:07
 */
define("gallery/register/0.0.1/index",["jquery"],function(t){function e(t){return t.replace(/[^\x00-\xff]/g,"xx").length}function i(t,e){s(t).data("pass",e)}var s=t("jquery"),n=s(".register-form"),a=s("input",n),u=s(a[0]),l=s(a[1]),r=s(a[2]),v=s("p"),o=s(v[0]),c=s(v[1]),f=s(v[2]),d=s(".form-tip"),x=s(d[0]),h=s(d[1]),b=s(d[2]),g=0;n.on("submit",function(){var t=[];return s.each(v,function(e,i){return i=s(i),i.data("pass")?(t.push(!0),void 0):(i.prev().trigger("focus"),!1)}),t.length>=3?!0:!1}),u.on("focus",function(){i(o,!1),x.css("visibility","visible"),o.text("请输入数字，字母或下划线，推荐使用中文，长度为8-10个字符，一个中文为两个字符")}),u.on("blur",function(){x.css("visibility","hidden");var t=this.value,e=t.length;e>0||o.text("")});var y=/^\w[\x00-\xff]/g;u.on("keyup",function(){g=e(this.value),x.text("已输入"+g+"个字符"),y.test(this.value)?o.text("只能输入数字，字母或下划线，推荐使用中文"):8>g?o.text("不足8个字符"):g>10?o.text("超过10个字符"):(o.text("OK"),i(o,!0))}),l.on("focus",function(){i(c,!1),h.css("visibility","visible"),c.text("请输入6-18位的口令，必须包含字母和数字")}),l.on("blur",function(){var t=this.value,e=t.length;e>0?6>e?c.text("长度不够6位"):e>18?c.text("长度超过18位"):(c.text("OK"),i(c,!0)):c.text(""),h.css("visibility","hidden")});var p=h.find("em");l.on("keyup",function(){var t=this.value,e=t.length;p.removeClass("active"),6>e?(p.eq(0).addClass("active"),r.attr("disabled","disabled")):(r.removeAttr("disabled"),10>e?p.eq(1).addClass("active"):/[0-9a-zA-Z]/g.test(t)&&p.eq(2).addClass("active"))}),r.on("focus",function(){i(f,!1),b.css("visibility","visible")}),r.on("blur",function(){b.css("visibility","hidden"),this.value.length>0?this.value!=l.val()?f.text("两次输入密码不一致"):(f.text("OK"),i(f,!0)):f.text("")})});